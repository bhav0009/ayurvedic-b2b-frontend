# Security & Monitoring Guide\n\n## Security Headers\n\n### Implemented Headers\n- **Content Security Policy (CSP)** - Prevents XSS attacks\n- **X-Frame-Options** - Prevents clickjacking\n- **X-Content-Type-Options** - Prevents MIME sniffing\n- **Strict-Transport-Security** - Enforces HTTPS\n- **Referrer-Policy** - Controls referrer information\n- **Permissions-Policy** - Restricts browser features\n\n### Rate Limiting\n- **API Protection** - 60 requests per minute per IP\n- **Configurable** - Set via `RATE_LIMIT_RPM` environment variable\n- **In-memory storage** - Use Redis for production scaling\n\n## Error Monitoring\n\n### Sentry Integration\n```bash\n# Add to .env.local\nSENTRY_DSN=your-sentry-dsn\n```\n\n### Features\n- ✅ Automatic error capture\n- ✅ Performance monitoring\n- ✅ Environment-specific filtering\n- ✅ Custom error context\n- ✅ Security event tracking\n\n## Analytics\n\n### Google Analytics\n```bash\n# Add to .env.local\nNEXT_PUBLIC_GA_ID=GA_MEASUREMENT_ID\n```\n\n### Vercel Analytics\n- ✅ Built-in performance tracking\n- ✅ Real user monitoring\n- ✅ Core Web Vitals\n\n## Monitoring Functions\n\n### Available Tracking\n```typescript\nimport { trackError, trackEvent, trackPerformance } from '@/lib/monitoring'\n\n// Error tracking\ntrackError(new Error('Something went wrong'), { component: 'ProductCard' })\n\n// Event tracking\ntrackEvent('product_view', 'engagement', 'ashwagandha-powder')\n\n// Performance tracking\ntrackPerformance('api_call', 1200)\n```\n\n## Security Best Practices\n\n### Environment Variables\n- ✅ Sensitive data in `.env.local`\n- ✅ Public variables prefixed with `NEXT_PUBLIC_`\n- ✅ Production validation\n\n### Content Security\n- ✅ CSP prevents code injection\n- ✅ Image sources restricted to trusted domains\n- ✅ Script sources controlled\n\n### API Security\n- ✅ Rate limiting on all API routes\n- ✅ Input validation\n- ✅ Error handling without data leaks\n\n## Production Checklist\n\n- [ ] Configure Sentry DSN\n- [ ] Set up Google Analytics\n- [ ] Test rate limiting\n- [ ] Verify security headers\n- [ ] Monitor error rates\n- [ ] Check performance metrics\n- [ ] Review CSP violations\n\n## Monitoring Dashboard\n\n### Key Metrics\n- Error rate and types\n- Page load performance\n- API response times\n- Security violations\n- User engagement\n\n### Alerts\n- High error rates\n- Performance degradation\n- Security incidents\n- Rate limit breaches